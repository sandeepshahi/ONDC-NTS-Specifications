let build_spec = {"openapi":"3.0.0","info":{"title":"Reconciliation and Settlement Framework (RSF) for ONDC","description":"ONDC  Reconciliation and Settlement Framework API Specification","version":"2.0.0"},"security":[{"SubscriberAuth":[]}],"paths":{"/settle":{"post":{"tags":["Settlement Agency"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"context":{"$ref":"#/components/schemas/Context"},"message":{"type":"object","properties":{"collector_app_id":{"type":"string"},"receiver_app_id":{"type":"string"},"settlement":{"$ref":"#/components/schemas/Settlement"}}}},"required":["context","message"]}}}},"responses":{"200":{"description":"Acknowledgement of message received","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"object","properties":{"ack":{"$ref":"#/components/schemas/Ack"}},"required":["ack"]},"error":{"$ref":"#/components/schemas/Error"}},"required":["message"]}}}}}}},"/on_settle":{"post":{"tags":["Collector","Receiver"],"requestBody":{"description":"SA responds with /on_settle","content":{"application/json":{"schema":{"type":"object","properties":{"context":{"$ref":"#/components/schemas/Context"},"message":{"type":"object","properties":{"collector_app_id":{"type":"string"},"receiver_app_id":{"type":"string"},"settlement":{"$ref":"#/components/schemas/Settlement"}},"required":["settlement"]},"error":{"$ref":"#/components/schemas/Error"}},"required":["context"]}}}},"responses":{"200":{"description":"Acknowledgement of message received","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"object","properties":{"ack":{"$ref":"#/components/schemas/Ack"}},"required":["ack"]},"error":{"$ref":"#/components/schemas/Error"}},"required":["message"]}}}}}}},"/report":{"post":{"tags":["Settlement Agency"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"context":{"$ref":"#/components/schemas/Context"},"message":{"type":"object","properties":{"ref_transaction_id":{"type":"string"},"ref_message_id":{"type":"string"}}},"error":{"$ref":"#/components/schemas/Error"}},"required":["context","message"]}}}},"responses":{"200":{"description":"Acknowledgement of message received","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"object","properties":{"ack":{"$ref":"#/components/schemas/Ack"}},"required":["ack"]},"error":{"$ref":"#/components/schemas/Error"}},"required":["message"]}}}}}}},"/on_report":{"post":{"tags":["Collector","Receiver"],"requestBody":{"description":"SA responds with /on_report","content":{"application/json":{"schema":{"type":"object","properties":{"context":{"$ref":"#/components/schemas/Context"},"message":{"type":"object","properties":{"collector_app_id":{"type":"string"},"receiver_app_id":{"type":"string"},"settlement":{"$ref":"#/components/schemas/Settlement"}},"required":["settlement"]},"error":{"$ref":"#/components/schemas/Error"}},"required":["context"]}}}},"responses":{"200":{"description":"Acknowledgement of message received","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"object","properties":{"ack":{"$ref":"#/components/schemas/Ack"}},"required":["ack"]},"error":{"$ref":"#/components/schemas/Error"}},"required":["message"]}}}}}}},"/recon":{"post":{"tags":["Collector","Receiver"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"context":{"$ref":"#/components/schemas/Context"},"message":{"type":"object","properties":{"orders":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Describes the order id"},"amount":{"$ref":"#/components/schemas/Amount"},"settlements":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"payment_id":{"type":"string"},"status":{"type":"string"},"amount":{"$ref":"#/components/schemas/Amount"},"commision":{"$ref":"#/components/schemas/Amount"},"withholding_amount":{"$ref":"#/components/schemas/Amount"},"tcs":{"$ref":"#/components/schemas/Amount"},"tds":{"$ref":"#/components/schemas/Amount"},"updated_at":{"type":"string","format":"date-time"},"settlement_ref_no":{"type":"string"}}}}}}}}}},"required":["context","message"]}}}},"responses":{"200":{"description":"Acknowledgement of message received","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"object","properties":{"ack":{"$ref":"#/components/schemas/Ack"}},"required":["ack"]},"error":{"$ref":"#/components/schemas/Error"}},"required":["message"]}}}}}}},"/on_recon":{"post":{"tags":["Collector","Receiver"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"context":{"$ref":"#/components/schemas/Context"},"message":{"type":"object","properties":{"orders":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Describes the order id"},"amount":{"$ref":"#/components/schemas/Amount"},"recon_accord":{"type":"boolean"},"settlements":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"payment_id":{"type":"string"},"status":{"type":"string"},"amount":{"allOf":[{"type":"object","properties":{"diff_value":{"type":"string"}}},{"$ref":"#/components/schemas/Amount"}]},"commision":{"allOf":[{"type":"object","properties":{"diff_value":{"type":"string"}}},{"$ref":"#/components/schemas/Amount"}]},"withholding_amount":{"allOf":[{"type":"object","properties":{"diff_value":{"type":"string"}}},{"$ref":"#/components/schemas/Amount"}]},"tcs":{"allOf":[{"type":"object","properties":{"diff_value":{"type":"string"}}},{"$ref":"#/components/schemas/Amount"}]},"tds":{"allOf":[{"type":"object","properties":{"diff_value":{"type":"string"}}},{"$ref":"#/components/schemas/Amount"}]},"updated_at":{"type":"string","format":"date-time"},"settlement_ref_no":{"type":"string"}}}}}}}}}},"required":["context","message"]}}}},"responses":{"200":{"description":"Acknowledgement of message received","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"object","properties":{"ack":{"$ref":"#/components/schemas/Ack"}},"required":["ack"]},"error":{"$ref":"#/components/schemas/Error"}},"required":["message"]}}}}}}}},"components":{"securitySchemes":{"SubscriberAuth":{"type":"apiKey","in":"header","name":"Authorization","description":"Signature of message body using Collector or Receiver subscriber's signing public key. <br/><br/>Format:<br/><br/><code>Authorization : Signature keyId=\"{subscriber_id}|{unique_key_id}|{algorithm}\",algorithm=\"ed25519\",created=\"1606970629\",expires=\"1607030629\",headers=\"(created) (expires) digest\",signature=\"Base64(signing string)\"</code>"}},"schemas":{"Ack":{"description":"Describes the ACK response","type":"object","properties":{"status":{"type":"string","description":"Describe the status of the ACK response. If schema validation passes, status is ACK else it is NACK","enum":["ACK","NACK"]}}},"Amount":{"type":"object","properties":{"currency":{"type":"string","example":"INR"},"value":{"type":"string","example":""}}},"BankDetails":{"type":"object","properties":{"account_no":{"type":"string","example":""},"ifsc_code":{"type":"string","example":""}}},"Context":{"description":"Describes a beckn message context","type":"object","properties":{"domain":{"type":"string"},"location":{"type":"object","properties":{"country":{"type":"object","properties":{"code":{"type":"string","example":"IND"}}},"city":{"type":"object","properties":{"code":{"type":"string","example":"*"}}}}},"action":{"type":"string","description":"Defines the Beckn API call. Any actions other than the enumerated actions are not supported by Beckn Protocol"},"version":{"type":"string","description":"Version of Beckn core API specification being used"},"bap_id":{"type":"string","description":"Unique id of the BAP. By default it is the fully qualified domain name of the BAP"},"bap_uri":{"type":"string","format":"uri","description":"URI of the BAP for accepting callbacks. Must have the same domain name as the bap_id"},"bpp_id":{"type":"string","description":"Unique id of the BPP. By default it is the fully qualified domain name of the BPP"},"bpp_uri":{"type":"string","format":"uri","description":"URI of the BPP. Must have the same domain name as the bap_id"},"transaction_id":{"type":"string","description":"This is a unique value which persists across all API calls from search through confirm"},"message_id":{"type":"string","description":"This is a unique value which persists during a request / callback cycle"},"timestamp":{"type":"string","format":"date-time","description":"Time of request generation in RFC3339 format"},"key":{"type":"string","description":"The encryption public key of the sender"},"ttl":{"type":"string","description":"The duration in ISO8601 format after timestamp for which this message holds valid"}},"required":["domain","action","location","version","transaction_id","message_id","bap_id","bap_uri","timestamp"]},"Error":{"description":"Describes an error object that is returned by a Collector or Receiver as a response or callback to an action by another network participant. This object is sent when any request received by a network participant is unacceptable. This object can be sent either during Ack or with the callback.","type":"object","properties":{"code":{"type":"string","description":"Standard error code. For full list of error codes, refer <a href = https://ondc-official.github.io/ONDC-NTS-Specifications/#error>here</a>"},"message":{"type":"string","description":"Human readable message describing the error. Used mainly for logging. Not recommended to be shown to the user."}}},"Orders":{"type":"array","items":{"type":"object","properties":{"id":{"description":"Describes the order id","type":"string"},"inter_participant":{"description":"Provides details about the settlement amount, payable/ receivable and status between the Collector and the Receiver","type":"object","properties":{"settled_amount":{"$ref":"#/components/schemas/Amount"},"amount":{"$ref":"#/components/schemas/Amount"},"status":{"type":"string","enum":["SETTLED","NOT-SETTLED"]},"reference_no":{"type":"string"},"error":{"$ref":"#/components/schemas/Error"}}},"collector":{"description":"Provides details about the amount to be retained by the collector","type":"object","properties":{"amount":{"$ref":"#/components/schemas/Amount"}}},"provider":{"description":"Provides details about the amount to be settled to the Provider of an NP.","type":"object","properties":{"id":{"type":"string","example":""},"name":{"type":"string","example":""},"bank_details":{"$ref":"#/components/schemas/BankDetails"},"status":{"type":"string","enum":["SETTLED","NOT-SETTLED"]},"amount":{"$ref":"#/components/schemas/Amount"},"reference_no":{"type":"string"},"error":{"$ref":"#/components/schemas/Error"}}},"self":{"type":"object","description":"Provides details about the amount for the NP to move to their operative account","properties":{"amount":{"$ref":"#/components/schemas/Amount"},"status":{"type":"string","enum":["SETTLED","NOT-SETTLED"]},"reference_no":{"type":"string"},"error":{"$ref":"#/components/schemas/Error"}}}}}},"Settlement":{"description":"- Describes the settlement of NP -NP - Describes the miscellaneous settlement - Describes the NIL settlement\n","type":"object","properties":{"type":{"description":"Describes the type of the settlement","type":"string"},"id":{"description":"* settlement id of the settlement file\n","type":"string"},"order":{"$ref":"#/components/schemas/Orders"}}}}},"x-enum":{"settle":{"context":{"location":{"country":{"code":[{"code":"IND","description":"Represents the country"}]},"city":{"code":[{"code":"*","description":"city"}]}},"domain":[{"code":"ONDC:NTS10","description":"RSF"}]},"message":{"settlement":{"type":[{"code":"NP-NP","description":"Interparticipant settlement"},{"code":"MISC","description":"Miscellaneous"},{"code":"NIL","description":"NP Declaring no settlement required"}]}}},"on_settle":{"context":{"location":{"country":{"code":[{"code":"IND","description":"Represents the country"}]},"city":{"code":[{"code":"*","description":"city"}]}},"domain":[{"code":"ONDC:NTS10","description":"RSF"}]},"message":{"settlement":{"type":[{"code":"NP-NP","description":"Interparticipant settlement"},{"code":"MISC","description":"Miscellaneous"},{"code":"NIL","description":"NP Declaring no settlement required"}],"orders":{"inter_participant":{"status":[{"code":"SETTLED","description":"settlement successful"},{"code":"NOT_SETTLED","description":"settlement unsuccessful"}]},"provider":{"status":[{"code":"SETTLED","description":"settlement successful"},{"code":"NOT_SETTLED","description":"settlement unsuccessful"}]},"self":{"status":[{"code":"SETTLED","description":"settlement successful"},{"code":"NOT_SETTLED","description":"settlement unsuccessful"}]}}}}},"on_report":{"context":{"location":{"country":{"code":[{"code":"IND","description":"Represents the country"}]},"city":{"code":[{"code":"*","description":"city"}]}},"domain":[{"code":"ONDC:NTS10","description":"RSF"}]},"message":{"settlement":{"type":[{"code":"NP-NP","description":"Interparticipant settlement"},{"code":"MISC","description":"Miscellaneous"},{"code":"NIL","description":"NP declaring no settlement required"}],"orders":{"inter_participant":{"status":[{"code":"SETTLED","description":"settlement successful"},{"code":"NOT_SETTLED","description":"settlement unsuccessful"}]},"provider":{"status":[{"code":"SETTLED","description":"settlement successful"},{"code":"NOT_SETTLED","description":"settlement unsuccessful"}]},"self":{"status":[{"code":"SETTLED","description":"settlement successful"},{"code":"NOT_SETTLED","description":"settlement unsuccessful"}]}}}}},"recon":{"context":{"location":{"country":{"code":[{"code":"IND","description":"Represents the country"}]},"city":{"code":[{"code":"*","description":"city"}]}},"domain":[{"code":"ONDC:NTS10","description":"RSF"}]},"message":{"orders":{"settlements":{"status":[{"code":"SETTLED","description":"Successfully settled"},{"code":"PENDING","description":"Settlement awaited due to reconciliation difference between NPs"},{"code":"TO_BE_INITIATED","description":"Settlement to be initiated in a future settlement cycle"}]}}}},"on_recon":{"context":{"location":{"country":{"code":[{"code":"IND","description":"Represents the country"}]},"city":{"code":[{"code":"*","description":"city"}]}},"domain":[{"code":"ONDC:NTS10","description":"RSF"}]},"message":{"orders":{"settlements":{"status":[{"code":"SETTLED","description":"Successfully settled"},{"code":"PENDING","description":"Settlement awaited due to reconciliation difference between NPs"},{"code":"TO_BE_INITIATED","description":"Settlement to be initiated in a future settlement cycle"}]}}}}},"x-flows":[{"summary":"NP-NP","details":[{"description":"Detailed flows covering inter participant settlements. NPs (Collector and Receiver) share settlement instructions to the Settlement Agency and the settlement agency responds with whether the settlement was successful or not.\n\nIn the example below, the collector is a retail seller app and the receiver is the retail buyer app. The retail seller app shares instructions for receivable for an order from the retail buyer app, to be sent to their own operating account (self) and their provider's account (provider). The retail buyer app shares instructions for payable for the respective order along with funds to be moved to their own operating amount (self).\n","mermaid":"sequenceDiagram\n participant Collector\n  participant Settlement_Agency\n participant Receiver\n Collector ->> Settlement_Agency: settle API \n Settlement_Agency -->> Collector: ack\n Receiver ->> Settlement_Agency: settle API\n Settlement_Agency -->> Receiver: ack\n Settlement_Agency ->> Collector : on_settle API\n Collector -->> Settlement_Agency: ack\n Settlement_Agency ->> Receiver : on_settle API\n Receiver -->> Settlement_Agency : ack"}],"references":"if any","steps":[{"summary":"SETTLEMENT INSTRUCTIONS","reference":"if any","api":"settle","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"receiverapp.com","bap_uri":"https://receiver-app.com/ondc/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T11:36:51.897Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"amount":{"currency":"INR","value":"1000.12"}},"collector":{"amount":{"currency":"INR","value":"50.00"}},"provider":{"id":"prvdr-id-789","name":"Kirana Pvt Ltd","bank_details":{"account_no":"1234567890","ifsc_code":"IFSC0001"},"amount":{"currency":"INR","value":"800.00"}},"self":{"amount":{"currency":"INR","value":"200.00"}}}]}}}},"details":[{"description":"settlement instructions from NP to Settlement Agency","mermaid":"sequenceDiagram participant Collector\n participant Settlement_Agency\n participant Receiver\n Collector ->> Settlement_Agency: settle API   \n rect rgb(191, 223, 255) \n Receiver ->> Settlement_Agency: settle API\n Settlement_Agency ->> Receiver: Ack\n end    \n Settlement_Agency ->> Collector : on_settle API\n Settlement_Agency ->> Receiver : on_settle API"}]},{"summary":"SETTLEMENT INSTRUCTIONS","reference":"if any","api":"settle","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T11:36:51.897Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"amount":{"currency":"INR","value":"1000.00"}},"collector":{"amount":{"currency":"INR","value":"50.00"}},"self":{"amount":{"currency":"INR","value":"50.00"}}}]}}}},"details":[{"description":"settlement instructions from NP to Settlement Agency","mermaid":"sequenceDiagram participant Collector\n participant Settlement_Agency\n participant Receiver\n rect rgb(191, 223, 255)\n Collector ->> Settlement_Agency: settle API \n Settlement_Agency ->> Collector: Ack\n end \n Receiver ->> Settlement_Agency: settle API\n Settlement_Agency ->> Collector : on_settle API\n Settlement_Agency ->> Receiver : on_settle API"}]},{"summary":"SETTLEMENT RESPONSE","reference":"if any","api":"on_settle","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"receiverapp.com","bap_uri":"https://receiver-app.com/ondc/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T13:36:51.000Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"settled_amount":{"currency":"INR","value":"1000.00"},"amount":{"currency":"INR","value":"1000.12"},"status":"SETTLED","reference_no":"3245683618631"},"collector":{"amount":{"currency":"INR","value":"50.00"}},"provider":{"id":"prvdr-id-789","amount":{"currency":"INR","value":"800.00"},"status":"NOT-SETTLED","error":{"code":"01","message":"Account inactive"},"reference_no":"1238683618634"},"self":{"amount":{"currency":"INR","value":"200.00"},"status":"NOT-SETTLED","reference_no":"1238683618634","error":{"code":"01","message":"Account inactive"}}}]}}}},"details":[{"description":"Response from settlement agency","mermaid":"sequenceDiagram participant Collector\n participant Settlement_Agency\n participant Receiver\n Collector ->> Settlement_Agency: settle API \n Receiver ->> Settlement_Agency: settle API\n Settlement_Agency ->> Collector : on_settle API\n rect rgb(191, 223, 255)\n Settlement_Agency ->> Receiver : on_settle API\n Receiver ->> Settlement_Agency : Ack\n end"}]},{"summary":"SETTLEMENT RESPONSE","reference":"if any","api":"on_settle","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.in/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T13:36:51.000Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"settled_amount":{"currency":"INR","value":"1000.00"},"amount":{"currency":"INR","value":"1000.00"},"status":"SETTLED","reference_no":"3245683618631"},"collector":{"amount":{"currency":"INR","value":"50.00"}},"self":{"amount":{"currency":"INR","value":"50.00"},"status":"SETTLED","reference_no":"1238683618634"}}]}}}},"details":[{"description":"Response from settlement agency","mermaid":"sequenceDiagram participant Collector\n participant Settlement_Agency\n participant Receiver\n Collector ->> Settlement_Agency: settle API \n Receiver ->> Settlement_Agency: settle API\n rect rgb(191, 223, 255) \n Settlement_Agency ->> Collector : on_settle API\n Collector ->> Settlement_Agency : Ack\n end\n Settlement_Agency ->> Receiver : on_settle API\n Receiver ->> Settlement_Agency: Ack"}]}]},{"summary":"MISC","details":[{"description":"Detailed flows covering miscellaneous or self settlements.  NPs share settlement instructions to the Settlement Agency  and the settlement agency responds with whether the settlement  was successful or not. In the example below, a retail seller app is sharing settlement instructions to move funds from their non operating account to their operating account and their respective provider's account.","mermaid":"sequenceDiagram\n participant NP\n participant Settlement_Agency\n NP ->> Settlement_Agency: settle API \n Settlement_Agency ->> NP : on_settle API"}],"references":"if any","steps":[{"summary":"SETTLE","api":"settle","details":[{"description":"settle api","mermaid":"sequenceDiagram participant NP\n participant Settlement_Agency\nNP ->> Settlement_Agency: settle API \n Settlement_Agency ->> NP : on_settle API"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"ad73a366-aebb-4144-9314-808dda82c8e6","message_id":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T09:32:23.600Z","ttl":"P1D"},"message":{"settlement":{"type":"MISC","id":"settlement-id-123","orders":[{"self":{"amount":{"currency":"INR","value":"200.00"}}}]}}}}},{"summary":"ON_SETTLE","api":"on_settle","details":[{"description":"on_settle","mermaid":"sequenceDiagram participant NP\n participant Settlement_Agency\nNP ->> Settlement_Agency: settle API \n Settlement_Agency ->> NP : on_settle API"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"ad73a366-aebb-4144-9314-808dda82c8e6","message_id":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T09:32:23.623Z","ttl":"PT30S"},"message":{"settlement":{"type":"MISC","id":"settlement-id-123","orders":[{"self":{"amount":{"currency":"INR","value":"200.00"},"status":"SETTLED","reference_no":"3718683618631"}}]}}}}}]},{"summary":"NIL","details":[{"description":"Detailed flows covering the NPs declaring that no settlements (where they would act as a collector) are to be done for that settlement cycle.","mermaid":"sequenceDiagram\n participant NP(Collector/Receiver)\n participant Settlement_Agency\n NP(Collector/Receiver) ->> Settlement_Agency: settle API \n Settlement_Agency ->> NP(Collector/Receiver) : on_settle API"}],"references":"if any","steps":[{"summary":"SETTLE","api":"settle","details":[{"description":"settle api","mermaid":"sequenceDiagram participant NP(Collector/Receiver)\n  participant Settlement_Agency\n  NP(Collector/Receiver) ->> Settlement_Agency: settle API      \n  Settlement_Agency ->> NP(Collector/Receiver) : on_settle API"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collector.in/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa.nbbl.nbbl.com/nocs_test","transaction_id":"de73a489-aebb-4144-9314-808dda82c7e6","message_id":"238ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T08:40:50.900Z","ttl":"P1D"},"message":{"settlement":{"type":"NIL"}}}}},{"summary":"ON_SETTLE","api":"on_settle","details":[{"description":"on_settle","mermaid":"sequenceDiagram participant NP\n participant Settlement_Agency\n NP ->> Settlement_Agency: settle API \n Settlement_Agency ->> NP : on_settle API"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"de73a489-aebb-4144-9314-808dda82c7e6","message_id":"238ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T08:40:51.000Z","ttl":"P1D"},"message":{"settlement":{"type":"NIL"}}}}}]},{"summary":"REPORT","details":[{"description":"Detailed flows covering NPs seeking status of a settlement instructions previously shared with reference to a transaction id and/ or message id. The settlement agency responds with the status of the respective settlement instructions referred.","mermaid":"sequenceDiagram\n participant NP\n participant Settlement_Agency\n NP ->> Settlement_Agency: report API \n Settlement_Agency ->> NP : on_report API"}],"references":"if any","steps":[{"summary":"REPORT","api":"report","details":[{"description":"report api","mermaid":"sequenceDiagram\n participant NP\n participant Settlement_Agency      \n NP ->> Settlement_Agency: report API \n Settlement_Agency ->> NP : ACK\n Settlement_Agency ->> NP : on_report API\n NP ->> Settlement_Agency : Ack"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"report","bap_id":"collectorapp.com","bap_uri":"https://collector.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://nbbl.org.in/nocs_test","transaction_id":"cd73a366-aebb-4144-9314-808dda82c7e6","message_id":"841ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-09T06:36:51.897Z","ttl":"P1D"},"message":{"ref_transaction_id":"bd73a366-aebb-4144-9314-808dda82c7e6","ref_message_id":"941ef6d7-d74d-4411-ac06-469c0f9ac"}}}},{"summary":"ON_REPORT","api":"on_report","details":[{"description":"on_report","mermaid":"sequenceDiagram\n participant NP\n participant Settlement_Agency\n NP ->> Settlement_Agency: report API  \n Settlement_Agency ->> NP : Ack\n Settlement_Agency ->> NP : on_ report API\n NP ->> Settlement_Agency : Ack"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_report","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"cd73a366-aebb-4144-9314-808dda82c7e6","message_id":"841ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T06:36:51.900Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-123","orders":[{"id":"order-id-456","inter_participant":{"settled_amount":{"currency":"INR","value":"1000.00"},"amount":{"currency":"INR","value":"1000.27"},"status":"SETTLED","reference_no":"3718683618631","error":{"code":"01","message":"Account Inactive"}},"collector":{"amount":{"currency":"INR","value":"50.00"}},"provider":{"id":"provider-id-789","amount":{"currency":"INR","value":"800.00"},"status":"NOT-SETTLED","error":{"code":"01","message":"Account Inactive"},"reference_no":"3718683618634"},"self":{"amount":{"currency":"INR","value":"200.00"},"status":"NOT-SETTLED","reference_no":"3718683618634","error":{"code":"01","message":"Account inactive"}}}]}}}}}]},{"summary":"RECON","details":[{"description":"The reconciliation process among the NPs are facilitated through the recon and on_recon APIs. In case settlement instructions are shared to the settlement agency and it fails for certain orders due an order mismatch or an order amount mismatch, NPs shall leverage the recon and on_recon API to communicate the mismatches. <br> In case an NP receives an order amount mismatch error code from the settlement agency, the receiver initiates the /recon request to the collector providing the breakup details for the respective order ID(s). The collector then reconciles and responds with the on_recon including the difference amount. <br>  In case an NP receives an order id mismatch error code (i.e. order ID not shared by the counterparty), the NP is expected to call the /recon API of the respective counterparty with the specific order ID(s) and its breakup details. The counterparty then reconciles and responds with details specific to the order id requested. <br> In both cases, if the response is correctly reconciled for the requisite orders, the settlement is initiated in the next settlement cycle. Otherwise, NPs are expected to raise an IGM for resolving the differences.","mermaid":"sequenceDiagram\n participant Collector\n participant Receiver\n Receiver ->> Collector : /recon API\n Collector ->> Receiver: /on_recon API"}],"references":"if any","steps":[{"summary":"RECON","api":"recon","details":[{"description":"/recon","mermaid":"sequenceDiagram\n participant Collector\n participant Receiver\n Receiver ->> Collector : /recon API\n Collector ->> Receiver: /on_recon API"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"recon","bap_id":"collector-app.com","bap_uri":"https://collector-app.com/ondc/1.0/","bpp_id":"receiver-app.com","bpp_uri":"https://receiver-app.com/ondc/","transaction_id":"bd73a366-aebb-4144-9314-808dda82c7e6","message_id":"941ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T06:36:51.897Z","ttl":"P1D"},"message":{"orders":[{"id":"order-1234","amount":{"currency":"INR","value":"300.00"},"settlements":[{"id":"settlement-id-456","payment_id":"pymnt-1","status":"PENDING","amount":{"currency":"INR","value":"100.00"},"commission":{"currency":"INR","value":"10.00"},"withholding_amount":{"currency":"INR","value":"10.00"},"tcs":{"currency":"INR","value":"10.00"},"tds":{"currency":"INR","value":"10.00"},"updated_at":"2024-05-07T07:36:51.897Z"},{"id":"settlement-id-789","payment_id":"pymnt-2","status":"SETTLED","amount":{"currency":"INR","value":"100.00"},"commission":{"currency":"INR","value":"10.00"},"withholding_amount":{"currency":"INR","value":"10.00"},"tds":{"currency":"INR","value":"10.00"},"tcs":{"currency":"INR","value":"10.00"},"settlement_ref_no":"utr-1234","updated_at":"2024-05-07T06:36:51.897Z"},{"id":"settlement-id-112","payment_id":"pymnt-3","status":"TO-BE-INITIATED","amount":{"currency":"INR","value":"100.00"},"commission":{"currency":"INR","value":"10.00"},"withholding_amount":{"currency":"INR","value":"10.00"},"tds":{"currency":"INR","value":"10.00"},"tcs":{"currency":"INR","value":"10.00"},"updated_at":"2024-05-07T06:36:51.897Z"}]}]}}}},{"summary":"ON_RECON","api":"on_recon","details":[{"description":"/on_recon","mermaid":"sequenceDiagram\n participant Collector\n participant Receiver\n Receiver ->> Collector : /recon API\n Collector ->> Receiver: /on_recon API"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_recon","bap_id":"collector-app.com","bap_uri":"https://collector-app.com/ondc/1.0/","bpp_id":"receiver-app.com","bpp_uri":"https://receiver-app.com/ondc/","transaction_id":"bd73a366-aebb-4144-9314-808dda82c7e6","message_id":"941ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T06:36:51.897Z","ttl":"P1D"},"message":{"orders":[{"id":"order-1234","amount":{"currency":"INR","value":"300.00"},"recon_accord":true,"settlements":[{"id":"settlement-id-456","payment_id":"pymnt-1","status":"PENDING","amount":{"currency":"INR","value":"100.00","diff_value":"10.00"},"commission":{"currency":"INR","value":"10.00","diff_value":"0.00"},"withholding_amount":{"currency":"INR","value":"10.00","diff_value":"0.00"},"tcs":{"currency":"INR","value":"10.00","diff_value":"5.00"},"tds":{"currency":"INR","value":"10.00","diff_value":"5.00"},"updated_at":"2024-05-07T07:36:51.897Z"},{"id":"settlement-id-789","payment_id":"pymnt-2","status":"SETTLED","amount":{"currency":"INR","value":"100.00"},"commission":{"currency":"INR","value":"10.00"},"withholding_amount":{"currency":"INR","value":"10.00"},"tds":{"currency":"INR","value":"10.00"},"tcs":{"currency":"INR","value":"10.00"},"settlement_ref_no":"utr-1234","updated_at":"2024-05-07T06:36:51.897Z"},{"id":"settlement-id-112","payment_id":"pymnt-3","status":"TO-BE-INITIATED","amount":{"currency":"INR","value":"100.00"},"commission":{"currency":"INR","value":"10.00"},"withholding_amount":{"currency":"INR","value":"10.00"},"tds":{"currency":"INR","value":"10.00"},"tcs":{"currency":"INR","value":"10.00"},"updated_at":"2024-05-07T06:36:51.897Z"}]}]}}}}]},{"summary":"ERROR","details":[{"description":"Detailed flows covering the error response example where settlement agency would respond with an error code for either a settlement instruction (/settle) or a status query (/report) based on the respective error code. Refer to the Error-UI for the possible error codes. The schema for error for on_settle and on_report would be the same.","mermaid":"sequenceDiagram\n participant NP\n participant Settlement_Agency\n NP ->> Settlement_Agency: settle API \n Settlement_Agency ->> NP : on_settle API"}],"references":"if any","steps":[{"summary":"SETTLEMENT INSTRUCTIONS","reference":"if any","api":"settle","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs_abcd.nbbl.com","bpp_uri":"https://sa_nocs_abcd.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T11:36:51.897Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"amount":{"currency":"INR","value":"1000.00"}},"collector":{"amount":{"currency":"INR","value":"50.00"}},"self":{"amount":{"currency":"INR","value":"50.00"}}}]}}}},"details":[{"description":"settlement instructions from NP to Settlement Agency","mermaid":"sequenceDiagram participant Collector\n participant Settlement_Agency\n participant Receiver\n Collector ->> Settlement_Agency: settle API   \n rect rgb(191, 223, 255) \n Receiver ->> Settlement_Agency: settle API\n Settlement_Agency ->> Receiver: Ack\n end    \n Settlement_Agency ->> Collector : on_settle API\n Settlement_Agency ->> Receiver : on_settle API"}]},{"summary":"SETTLEMENT RESPONSE","api":"on_settle","details":[{"description":"on_settle","mermaid":"sequenceDiagram\n participant NP\n participant Settlement_Agency\n NP ->> Settlement_Agency: settle API  \n Settlement_Agency ->> NP : Ack\n Settlement_Agency ->> NP : on_settle API\n NP ->> Settlement_Agency : Ack"}],"reference":"if any","example":{"value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collector.com/ondc/1.0/","bpp_id":"sa_nocs_abcd.nbbl.com","bpp_uri":"https://sa_nocs_abcd.nbbl.com/nocs_test","transaction_id":"cd73a366-aebb-4144-9314-808dda82c7e6","message_id":"841ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-09T06:36:51.897Z","ttl":"P1D"},"error":{"code":"70005","message":"Invalid bpp id"}}}}]}],"x-examples":{"RSF":{"summary":"RSF 2.0","description":"Reconciliation and Settlement Framework provides a comprehensive framework\nto ensure accurate and timely settlements among participants in the network.\nRSF 2.0 brings an enhanced workflow where the NPs share order-level the\nsettlement instructions to the Settlement Agency (SA) which matches the same\nwith the respective counterparty NP and then moves funds if the amounts have\nmatched successfully. \n\nExplainer & BRD is documented <a href = \"https://docs.google.com/document/d/1IXZuqTCfEzBxdHJKzHVZ9kPm_lYk5DxjdaQ25--YH8M/edit#heading=h.7edkggo8m4oc\">here</a>\n\nFunctional flows and use cases are documented <a href = \"https://docs.google.com/document/d/1Pj7e1MuObQeLczx_palbcliUPTkMRYA76esjrfAMT14/edit?usp=sharing\">here</a>\n\nFor development of funds settlement flow for integration with settlement agency, refer settle/on_settle and report/on_report API specs below\n\nFor development of reconciliation flow amongst network participants, refer recon/on_recon API specs below\n","example_set":{"on_report":{"examples":[{"summary":"on_report","description":"Response from settlement agency","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_report","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"cd73a366-aebb-4144-9314-808dda82c7e6","message_id":"841ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T06:36:51.900Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-123","orders":[{"id":"order-id-456","inter_participant":{"settled_amount":{"currency":"INR","value":"1000.00"},"amount":{"currency":"INR","value":"1000.27"},"status":"SETTLED","reference_no":"3718683618631","error":{"code":"01","message":"Account Inactive"}},"collector":{"amount":{"currency":"INR","value":"50.00"}},"provider":{"id":"provider-id-789","amount":{"currency":"INR","value":"800.00"},"status":"NOT-SETTLED","error":{"code":"01","message":"Account Inactive"},"reference_no":"3718683618634"},"self":{"amount":{"currency":"INR","value":"200.00"},"status":"NOT-SETTLED","reference_no":"3718683618634","error":{"code":"01","message":"Account inactive"}}}]}}}}]},"on_settle":{"examples":[{"summary":"on_settle np_np","description":"callback response for NP-NP settlement instruction","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.in/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T13:36:51.000Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"settled_amount":{"currency":"INR","value":"1000.00"},"amount":{"currency":"INR","value":"1000.00"},"status":"SETTLED","reference_no":"3245683618631"},"collector":{"amount":{"currency":"INR","value":"50.00"}},"self":{"amount":{"currency":"INR","value":"50.00"},"status":"SETTLED","reference_no":"1238683618634"}}]}}}},{"summary":"on_settle np-np (with provider)","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"receiverapp.com","bap_uri":"https://receiver-app.com/ondc/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T13:36:51.000Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"settled_amount":{"currency":"INR","value":"1000.00"},"amount":{"currency":"INR","value":"1000.12"},"status":"SETTLED","reference_no":"3245683618631"},"collector":{"amount":{"currency":"INR","value":"50.00"}},"provider":{"id":"prvdr-id-789","amount":{"currency":"INR","value":"800.00"},"status":"NOT-SETTLED","error":{"code":"01","message":"Account inactive"},"reference_no":"1238683618634"},"self":{"amount":{"currency":"INR","value":"200.00"},"status":"NOT-SETTLED","reference_no":"1238683618634","error":{"code":"01","message":"Account inactive"}}}]}}}},{"summary":"on_settle misc","description":"callback response for Misc / self settlement instruction","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"ad73a366-aebb-4144-9314-808dda82c8e6","message_id":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T09:32:23.623Z","ttl":"PT30S"},"message":{"settlement":{"type":"MISC","id":"settlement-id-123","orders":[{"self":{"amount":{"currency":"INR","value":"200.00"},"status":"SETTLED","reference_no":"3718683618631"}}]}}}},{"summary":"on_settle misc (with provider)","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"ad73a366-aebb-4144-9314-808dda82c8e6","message_id":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T09:32:23.623Z","ttl":"PT30S"},"message":{"settlement":{"type":"MISC","id":"settlement-id-123","orders":[{"provider":{"id":"provider-id-789","amount":{"currency":"INR","value":"200.12"},"status":"NOT-SETTLED","reference_no":"3718683618631","error":{"code":"01","message":"Account inactive"}},"self":{"amount":{"currency":"INR","value":"200.00"},"status":"SETTLED","reference_no":"3718683618631"}}]}}}},{"summary":"on_settle nil","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"on_settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"de73a489-aebb-4144-9314-808dda82c7e6","message_id":"238ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T08:40:51.000Z","ttl":"P1D"},"message":{"settlement":{"type":"NIL"}}}}]},"report":{"examples":[{"summary":"report","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"report","bap_id":"collectorapp.com","bap_uri":"https://collector.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://nbbl.org.in/nocs_test","transaction_id":"cd73a366-aebb-4144-9314-808dda82c7e6","message_id":"841ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-09T06:36:51.897Z","ttl":"P1D"},"message":{"ref_transaction_id":"bd73a366-aebb-4144-9314-808dda82c7e6","ref_message_id":"941ef6d7-d74d-4411-ac06-469c0f9ac"}}}]},"settle":{"examples":[{"summary":"settle np_np","description":"settlement instructions from NP to Settlement Agency","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T11:36:51.897Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"amount":{"currency":"INR","value":"1000.00"}},"collector":{"amount":{"currency":"INR","value":"50.00"}},"self":{"amount":{"currency":"INR","value":"50.00"}}}]}}}},{"summary":"settle np-np (with provider)","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"receiverapp.com","bap_uri":"https://receiver-app.com/ondc/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"dc34a366-aebb-4144-9314-808dda82c7e6","message_id":"941ed9a4-d74d-4411-ac06-469c0f9ac","timestamp":"2024-05-09T11:36:51.897Z","ttl":"P1D"},"message":{"collector_app_id":"collectorapp.com","receiver_app_id":"receiverapp.com","settlement":{"type":"NP-NP","id":"settlement-id-abc","orders":[{"id":"ordr-123456","inter_participant":{"amount":{"currency":"INR","value":"1000.12"}},"collector":{"amount":{"currency":"INR","value":"50.00"}},"provider":{"id":"prvdr-id-789","name":"Kirana Pvt Ltd","bank_details":{"account_no":"1234567890","ifsc_code":"IFSC0001"},"amount":{"currency":"INR","value":"800.00"}},"self":{"amount":{"currency":"INR","value":"200.00"}}}]}}}},{"summary":"settle misc","description":"Miscellaneous / self settlement instruction","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"ad73a366-aebb-4144-9314-808dda82c8e6","message_id":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T09:32:23.600Z","ttl":"P1D"},"message":{"settlement":{"type":"MISC","id":"settlement-id-123","orders":[{"self":{"amount":{"currency":"INR","value":"200.00"}}}]}}}},{"summary":"settle misc (with provider)","description":"Miscellaneous / self settlement instruction","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collectorapp.com/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa_nocs.nbbl.com/nocs_test","transaction_id":"ad73a366-aebb-4144-9314-808dda82c8e6","message_id":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T09:32:23.600Z","ttl":"P1D"},"message":{"settlement":{"type":"MISC","id":"settlement-id-123","orders":[{"self":{"amount":{"currency":"INR","value":"200.00"}},"provider":{"id":"provider-id-789","name":"Kirana Pvt Ltd.","bank_details":{"account_no":"1234567890","ifsc_code":"IFSC0001"},"amount":{"currency":"INR","value":"200.00"}}}]}}}},{"summary":"settle nil","value":{"context":{"domain":"ONDC:NTS10","location":{"country":{"code":"IND"},"city":{"code":"*"}},"version":"2.0.0","action":"settle","bap_id":"collectorapp.com","bap_uri":"https://collector.in/ondc/1.0/","bpp_id":"sa_nocs.nbbl.com","bpp_uri":"https://sa.nbbl.nbbl.com/nocs_test","transaction_id":"de73a489-aebb-4144-9314-808dda82c7e6","message_id":"238ef6d7-d74d-4411-ac06-a05469c0f9ac","timestamp":"2024-05-07T08:40:50.900Z","ttl":"P1D"},"message":{"settlement":{"type":"NIL"}}}}]}}}},"x-attributes":{"RSF":{"attribute_set":{"settle_misc":{"context":{"domain":{"required":true,"type":"string","owner":"any","usage":"ONDC:NTS10","description":"Domain in which the settlement occurs"},"location":{"country":{"code":{"required":true,"type":"string","owner":"any","usage":"IND","description":"Describes country code as per ISO 3166-1 and ISO 3166-2 format"}},"city":{"code":{"required":true,"type":"string","owner":"any","usage":"*","description":"Describes city "}}},"version":{"required":true,"type":"string","owner":"any","usage":"2.0.0","description":"Describes the version of transaction protocol being used by the sender."},"action":{"required":true,"type":"string","owner":"any","usage":"settle","description":"Describes the method being called by the sender and executed at the receiver."},"bap_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com","description":"Describes the subscriber id of the BNP"},"bap_uri":{"required":true,"type":"string","owner":"any","usage":"https://collectorapp.com/ondc/1.0/","description":"Describes the subscriber uri of the BNP"},"bpp_id":{"required":true,"type":"string","owner":"any","usage":"sa_nocs.nbbl.com","description":"Describes the subscriber id of the SNP"},"bpp_uri":{"required":true,"type":"string","owner":"any","usage":"https://sa_nocs.nbbl.com/nocs_test","description":"Describes the subscriber uri of the SNP"},"transaction_id":{"required":true,"type":"string","owner":"any","usage":"ad73a366-aebb-4144-9314-808dda82c8e6","description":"Describes  a unique value which persists across all API calls"},"message_id":{"required":true,"type":"string","owner":"any","usage":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","description":"Describes a unique value which persists during a request / callback cycle."},"timestamp":{"required":true,"type":"string","owner":"any","usage":"2024-05-07T09:32:23.600Z","description":"Describes time of request generation in RFC3339 format"},"ttl":{"required":true,"type":"string","owner":"any","usage":"P1D","description":"Describes the duration in ISO8601 format after timestamp for which this message holds valid"}},"message":{"settlement":{"type":{"required":true,"type":"string","owner":"any","usage":"MISC","description":"Type of Interparticipant settlement"},"id":{"required":true,"type":"string","owner":"any","usage":"settlement-id-123","description":"Id of Interpartcipant settlement"},"orders":{"self":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is to be moved to the API caller's operating account"},"value":{"required":true,"type":"string","owner":"any","usage":"200.00","description":"Self amount is the amount that is to be moved to the API caller's operating account"}}},"provider":{"id":{"required":true,"type":"string","owner":"any","usage":"provider-id-789","description":"Id of the provider"},"name":{"required":true,"type":"string","owner":"any","usage":"Kirana Pvt Ltd.","description":"Name of the provider"},"bank_details":{"account_no":{"required":true,"type":"string","owner":"any","usage":1234567890,"description":"Account number of the provider"},"ifsc_code":{"required":true,"type":"string","owner":"any","usage":"IFSC0001","description":"IFSC code of the provider"}},"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is to be transferred to the provider's provided account"},"value":{"required":true,"type":"string","owner":"any","usage":"200.00","description":"Provider amount is the amount that is to be transferred to the provider's provided account"}}}}}}},"settle_np-np":{"context":{"domain":{"required":true,"type":"string","owner":"any","usage":"ONDC:NTS10","description":"Domain in which the settlement occurs"},"location":{"country":{"code":{"required":true,"type":"string","owner":"any","usage":"IND","description":"Describes country code as per ISO 3166-1 and ISO 3166-2 format"}},"city":{"code":{"required":true,"type":"string","owner":"any","usage":"*","description":"Describes city "}}},"version":{"required":true,"type":"string","owner":"any","usage":"2.0.0","description":"Describes the version of transaction protocol being used by the sender."},"action":{"required":true,"type":"string","owner":"any","usage":"settle","description":"Describes the method being called by the sender and executed at the receiver."},"bap_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com","description":"Describes the subscriber id of the BNP"},"bap_uri":{"required":true,"type":"string","owner":"any","usage":"https://collectorapp.com/ondc/1.0/","description":"Describes the subscriber uri of the BNP"},"bpp_id":{"required":true,"type":"string","owner":"any","usage":"sa_nocs.nbbl.com","description":"Describes the subscriber id of the SNP"},"bpp_uri":{"required":true,"type":"string","owner":"any","usage":"https://sa_nocs.nbbl.com/nocs_test","description":"Describes the subscriber uri of the SNP"},"transaction_id":{"required":true,"type":"string","owner":"any","usage":"ad73a366-aebb-4144-9314-808dda82c8e6","description":"Describes  a unique value which persists across all API calls"},"message_id":{"required":true,"type":"string","owner":"any","usage":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","description":"Describes a unique value which persists during a request / callback cycle."},"timestamp":{"required":true,"type":"string","owner":"any","usage":"2024-05-07T09:32:23.600Z","description":"Describes time of request generation in RFC3339 format"},"ttl":{"required":true,"type":"string","owner":"any","usage":"P1D","description":"Describes the duration in ISO8601 format after timestamp for which this message holds valid"}},"message":{"collector_app_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com","description":"ID of the collector"},"receiver_app_id":{"required":true,"type":"string","owner":"any","usage":"receiverapp.com","description":"ID of the reciever"},"settlement":{"type":{"required":true,"type":"string","owner":"any","usage":"NP-NP","description":"Type of Interparticipant Settlement"},"id":{"required":true,"type":"string","owner":"any","usage":"settlement-id-abc","description":"Id of Interpartcipant settlement"},"orders":{"self":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is to be moved to the API caller's operating account"},"value":{"required":true,"type":"string","owner":"any","usage":"200.00","description":"Self amount is the amount that is to be moved to the API caller's operating account"}}},"provider":{"id":{"required":true,"type":"string","owner":"any","usage":"prvdr-id-789","description":"Id of the provider"},"name":{"required":true,"type":"string","owner":"any","usage":"Kirana Pvt Ltd","description":"Name of the provider"},"bank_details":{"account_no":{"required":true,"type":"string","owner":"any","usage":"1234567890","description":"Account number of the provider"},"ifsc_code":{"required":true,"type":"string","owner":"any","usage":"IFSC0001","description":"IFSC code of the provider"}},"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is to be transferred to the provider's provided account"},"value":{"required":true,"type":"string","owner":"any","usage":"800.00","description":"Provider amount is the amount that is to be transferred to the provider's provided account"}}},"id":{"required":true,"type":"string","owner":"any","usage":"ordr-123456","description":"Id of the order"},"inter_participant":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is to be settled from collector to receiver"},"value":{"required":true,"type":"string","owner":"any","usage":"1000.00","description":"Inter participant amount is what is to be settled from collector to receiver"}}},"collector":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that the collector keeps for themselves"},"value":{"required":true,"type":"string","owner":"any","usage":"50.00","description":"Collector amount is what collector keeps for themselves"}}}}}}},"settle_nil":{"context":{"domain":{"required":true,"type":"string","owner":"any","usage":"ONDC:NTS10","description":"Domain in which the settlement occurs"},"location":{"country":{"code":{"required":true,"type":"string","owner":"any","usage":"IND","description":"Describes country code as per ISO 3166-1 and ISO 3166-2 format"}},"city":{"code":{"required":true,"type":"string","owner":"any","usage":"*","description":"Describes city "}}},"version":{"required":true,"type":"string","owner":"any","usage":"2.0.0","description":"Describes the version of transaction protocol being used by the sender."},"action":{"required":true,"type":"string","owner":"any","usage":"settle","description":"Describes the method being called by the sender and executed at the receiver."},"bap_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com","description":"Describes the subscriber id of the BNP"},"bap_uri":{"required":true,"type":"string","owner":"any","usage":"https://collectorapp.com/ondc/1.0/","description":"Describes the subscriber uri of the BNP"},"bpp_id":{"required":true,"type":"string","owner":"any","usage":"sa_nocs.nbbl.com","description":"Describes the subscriber id of the SNP"},"bpp_uri":{"required":true,"type":"string","owner":"any","usage":"https://sa_nocs.nbbl.com/nocs_test","description":"Describes the subscriber uri of the SNP"},"transaction_id":{"required":true,"type":"string","owner":"any","usage":"ad73a366-aebb-4144-9314-808dda82c8e6","description":"Describes  a unique value which persists across all API calls"},"message_id":{"required":true,"type":"string","owner":"any","usage":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","description":"Describes a unique value which persists during a request / callback cycle."},"timestamp":{"required":true,"type":"string","owner":"any","usage":"2024-05-07T09:32:23.600Z","description":"Describes time of request generation in RFC3339 format"},"ttl":{"required":true,"type":"string","owner":"any","usage":"P1D","description":"Describes the duration in ISO8601 format after timestamp for which this message holds valid"}},"message":{"settlement":{"type":{"required":true,"type":"string","owner":"any","usage":"NIL","description":"Type of settlement"}}}},"on_settle":{"context":{"domain":{"required":true,"type":"string","owner":"any","usage":"ONDC:NTS10","description":"Domain in which the settlement occurs"},"location":{"country":{"code":{"required":true,"type":"string","owner":"any","usage":"IND","description":"Describes country code as per ISO 3166-1 and ISO 3166-2 format"}},"city":{"code":{"required":true,"type":"string","owner":"any","usage":"*","description":"Describes city "}}},"version":{"required":true,"type":"string","owner":"any","usage":"2.0.0","description":"Describes the version of transaction protocol being used by the sender."},"action":{"required":true,"type":"string","owner":"any","usage":"on_settle","description":"Describes the method being called by the sender and executed at the receiver."},"bap_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com","description":"Describes the subscriber id of the BNP"},"bap_uri":{"required":true,"type":"string","owner":"any","usage":"https://collectorapp.com/ondc/1.0/","description":"Describes the subscriber uri of the BNP"},"bpp_id":{"required":true,"type":"string","owner":"any","usage":"sa_nocs.nbbl.com","description":"Describes the subscriber id of the SNP"},"bpp_uri":{"required":true,"type":"string","owner":"any","usage":"https://sa_nocs.nbbl.com/nocs_test","description":"Describes the subscriber uri of the SNP"},"transaction_id":{"required":true,"type":"string","owner":"any","usage":"ad73a366-aebb-4144-9314-808dda82c8e6","description":"Describes  a unique value which persists across all API calls"},"message_id":{"required":true,"type":"string","owner":"any","usage":"354ef6d7-d74d-4411-ac06-a05469c0f9ac","description":"Describes a unique value which persists during a request / callback cycle."},"timestamp":{"required":true,"type":"string","owner":"any","usage":"2024-05-07T09:32:23.600Z","description":"Describes time of request generation in RFC3339 format"},"ttl":{"required":true,"type":"string","owner":"any","usage":"P1D","description":"Describes the duration in ISO8601 format after timestamp for which this message holds valid"}},"message":{"collector_app_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com","description":"ID of the collector"},"receiver_app_id":{"required":true,"type":"string","owner":"any","usage":"receiverapp.com","description":"ID of the reciever"},"settlement":{"type":{"required":true,"type":"string","owner":"any","usage":"NP-NP","description":"Type of Interparticipant Settlement"},"id":{"required":true,"type":"string","owner":"any","usage":"settlement-id-abc","description":"Id of Interpartcipant settlement"},"orders":{"self":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is to be moved to the API caller's operating account"},"value":{"required":true,"type":"string","owner":"any","usage":"200.00","description":"Self amount is the amount that is to be moved to the API caller's operating account"}},"status":{"required":true,"type":"string","owner":"any","usage":"NOT-SETTLED","description":"Status of self fund settlement"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"1238683618634","description":"Reference number of self fund settlement"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01","description":"Code of the error occurred at the time of settlement"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive","description":"Message of the error occurred at the time of settlement"}}},"provider":{"id":{"required":true,"type":"string","owner":"any","usage":"prvdr-id-789","description":"Id of the provider"},"name":{"required":true,"type":"string","owner":"any","usage":"Kirana Pvt Ltd","description":"Name of the provider"},"bank_details":{"account_no":{"required":true,"type":"string","owner":"any","usage":"1234567890","description":"Account number of the provider"},"ifsc_code":{"required":true,"type":"string","owner":"any","usage":"IFSC0001","description":"IFSC code of the provider"}},"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is to be transferred to the provider's provided account"},"value":{"required":true,"type":"string","owner":"any","usage":"800.00","description":"Provider amount is the amount that is to be transferred to the provider's provided account"}},"status":{"required":true,"type":"string","owner":"any","usage":"NOT-SETTLED","description":"Status of provider fund settlement"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"3718683618631","description":"Reference number of provider fund settlement"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01","description":"Code of the error occurred at the time of settlement"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive","description":"Message of the error occurred at the time of settlement"}}},"id":{"required":true,"type":"string","owner":"any","usage":"ordr-123456","description":"Id of the order"},"inter_participant":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is to be settled from collector to receiver"},"value":{"required":true,"type":"string","owner":"any","usage":"1000.00","description":"Inter participant amount is what is to be settled from collector to receiver"}},"status":{"required":true,"type":"string","owner":"any","usage":"SETTLED","description":"Status of interparticipant fund settlement"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"3718683618631","description":"Reference number of Interparticipant fund settlement"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01","description":"Code of the error occurred at the time of settlement"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive","description":"Message of the error occurred at the time of settlement"}}},"collector":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that the collector keeps for themselves"},"value":{"required":true,"type":"string","owner":"any","usage":"50.00","description":"Collector amount is what collector keeps for themselves"}}}}}}},"report":{"context":{"domain":{"required":true,"type":"string","owner":"any","usage":"ONDC:NTS10","description":"Domain in which the settlement occurs"},"location":{"country":{"code":{"required":true,"type":"string","owner":"any","usage":"IND","description":"Describes country code as per ISO 3166-1 and ISO 3166-2 format"}},"city":{"code":{"required":true,"type":"string","owner":"any","usage":"*","description":"Describes city "}}},"version":{"required":true,"type":"string","owner":"any","usage":"2.0.0","description":"Describes the version of transaction protocol being used by the sender."},"action":{"required":true,"type":"string","owner":"any","usage":"report","description":"Describes the method being called by the sender and executed at the receiver."},"bap_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com","description":"Describes the subscriber id of the BNP"},"bap_uri":{"required":true,"type":"string","owner":"any","usage":"https://collectorapp.com/ondc/1.0/","description":"Describes the subscriber uri of the BNP"},"bpp_id":{"required":true,"type":"string","owner":"any","usage":"sa_nocs.nbbl.com","description":"Describes the subscriber id of the SNP"},"bpp_uri":{"required":true,"type":"string","owner":"any","usage":"https://sa_nocs.nbbl.com/nocs_test","description":"Describes the subscriber uri of the SNP"},"transaction_id":{"required":true,"type":"string","owner":"any","usage":"d73a366-aebb-4144-9314-808dda82c7e6","description":"Describes  a unique value which persists across all API calls"},"message_id":{"required":true,"type":"string","owner":"any","usage":"841ef6d7-d74d-4411-ac06-a05469c0f9ac","description":"Describes a unique value which persists during a request / callback cycle."},"timestamp":{"required":true,"type":"string","owner":"any","usage":"2024-05-09T06:36:51.897Z","description":"Describes time of request generation in RFC3339 format"},"ttl":{"required":true,"type":"string","owner":"any","usage":"P1D","description":"Describes the duration in ISO8601 format after timestamp for which this message holds valid"}},"message":{"collector_app_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com","description":"Subscriber Id of Collecter "},"receiver_app_id":{"required":true,"type":"string","owner":"any","usage":"receiverapp.com","description":"Subscriber Id of Reciever"},"settlement":{"type":{"required":true,"type":"string","owner":"any","usage":"NP-NP","description":"Type of Settlement"},"id":{"required":true,"type":"string","owner":"any","usage":"settlement-id-abc","description":"Id of Settlement"},"orders":{"self":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is to be moved to the API caller's operating account"},"value":{"required":true,"type":"string","owner":"any","usage":"200.00","description":"Self amount is the amount that is to be moved to the API caller's operating account"}},"status":{"required":true,"type":"string","owner":"any","usage":"NOT-SETTLED","description":"Status of self fund settlement"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"1238683618634","description":"Reference number of self fund settlement"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01","description":"Code of the error occurred at the time of settlement"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive","description":"Message of the error occurred at the time of settlement"}}},"provider":{"id":{"required":true,"type":"string","owner":"any","usage":"prvdr-id-789","description":"Id of Provider"},"name":{"required":true,"type":"string","owner":"any","usage":"Kirana Pvt Ltd","description":"Name of Provider"},"bank_details":{"account_no":{"required":true,"type":"string","owner":"any","usage":"1234567890","description":"Account number of the provider"},"ifsc_code":{"required":true,"type":"string","owner":"any","usage":"IFSC0001","description":"IFSC code of the provider"}},"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is to be transferred to the provider's provided account"},"value":{"required":true,"type":"string","owner":"any","usage":"800.00","description":"Provider amount is the amount that is to be transferred to the provider's provided account"}},"status":{"required":true,"type":"string","owner":"any","usage":"NOT-SETTLED","description":"Status of provider fund settlement"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"3718683618631","description":"Reference number of provider fund settlement"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01","description":"Code of the error occurred at the time of settlement"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive","description":"Message of the error occurred at the time of settlement"}}},"id":{"required":true,"type":"string","owner":"any","usage":"ordr-123456","description":"Id of the order"},"inter_participant":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is to be settled from collector to receiver"},"value":{"required":true,"type":"string","owner":"any","usage":"1000.00","description":"Inter participant amount is what is to be settled from collector to receiver"}},"status":{"required":true,"type":"string","owner":"any","usage":"SETTLED","description":"Status of interparticipant fund settlement"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"3718683618631","description":"Reference number of Interparticipant fund settlement"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01","description":"Code of the error occurred at the time of settlement"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive","description":"Message of the error occurred at the time of settlement"}}},"collector":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that the collector keeps for themselves"},"value":{"required":true,"type":"string","owner":"any","usage":"50.00","description":"Collector amount is what collector keeps for themselves"}}}}},"ref_transaction_id":{"required":true,"type":"string","owner":"any","usage":"bd73a366-aebb-4144-9314-808dda82c7e6","description":"Reference transaction ID of the settlement instruction"},"ref_message_id":{"required":true,"type":"string","owner":"any","usage":"941ef6d7-d74d-4411-ac06-469c0f9ac","description":"Reference message ID of the settlement instruction"}}},"on_report":{"context":{"domain":{"required":true,"type":"string","owner":"any","usage":"ONDC:NTS10","description":"Domain in which the settlement occurs"},"location":{"country":{"code":{"required":true,"type":"string","owner":"any","usage":"IND","description":"Describes country code as per ISO 3166-1 and ISO 3166-2 format"}},"city":{"code":{"required":true,"type":"string","owner":"any","usage":"*","description":"Describes city "}}},"version":{"required":true,"type":"string","owner":"any","usage":"2.0.0","description":"Describes the version of transaction protocol being used by the sender."},"action":{"required":true,"type":"string","owner":"any","usage":"on_report","description":"Describes the method being called by the sender and executed at the receiver."},"bap_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com","description":"Describes the subscriber id of the BNP"},"bap_uri":{"required":true,"type":"string","owner":"any","usage":"https://collectorapp.com/ondc/1.0/","description":"Describes the subscriber uri of the BNP"},"bpp_id":{"required":true,"type":"string","owner":"any","usage":"sa_nocs.nbbl.com","description":"Describes the subscriber id of the SNP"},"bpp_uri":{"required":true,"type":"string","owner":"any","usage":"https://sa_nocs.nbbl.com/nocs_test","description":"Describes the subscriber uri of the SNP"},"transaction_id":{"required":true,"type":"string","owner":"any","usage":"cd73a366-aebb-4144-9314-808dda82c7e6","description":"Describes  a unique value which persists across all API calls"},"message_id":{"required":true,"type":"string","owner":"any","usage":"841ef6d7-d74d-4411-ac06-a05469c0f9ac","description":"Describes a unique value which persists during a request / callback cycle."},"timestamp":{"required":true,"type":"string","owner":"any","usage":"2024-05-07T06:36:51.900Z","description":"Describes time of request generation in RFC3339 format"},"ttl":{"required":true,"type":"string","owner":"any","usage":"P1D","description":"Describes the duration in ISO8601 format after timestamp for which this message holds valid"}},"message":{"collector_app_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com","description":"ID of the collector"},"receiver_app_id":{"required":true,"type":"string","owner":"any","usage":"receiverapp.com","description":"ID of the reciever"},"settlement":{"type":{"required":true,"type":"string","owner":"any","usage":"NP-NP","description":"Type of Interparticipant Settlement"},"id":{"required":true,"type":"string","owner":"any","usage":"settlement-id-123","description":"Id of Interpartcipant settlement"},"orders":{"self":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is to be moved to the API caller's operating account"},"value":{"required":true,"type":"string","owner":"any","usage":"200.00","description":"Self amount is the amount that is to be moved to the API caller's operating account"}},"status":{"required":true,"type":"string","owner":"any","usage":"NOT-SETTLED","description":"Status of self fund settlement"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"3718683618631","description":"Reference number of self fund settlement"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01","description":"Code of the error occurred at the time of settlement"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive","description":"Message of the error occurred at the time of settlement"}}},"provider":{"id":{"required":true,"type":"string","owner":"any","usage":"provider-id-789","description":"Id of the provider"},"name":{"required":true,"type":"string","owner":"any","usage":"Kirana Pvt Ltd","description":"Name of the provider"},"bank_details":{"account_no":{"required":true,"type":"string","owner":"any","usage":"1234567890","description":"Account number of the provider"},"ifsc_code":{"required":true,"type":"string","owner":"any","usage":"IFSC0001","description":"IFSC code of the provider"}},"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is to be transferred to the provider's provided account"},"value":{"required":true,"type":"string","owner":"any","usage":"800.00","description":"Provider amount is the amount that is to be transferred to the provider's provided account"}},"status":{"required":true,"type":"string","owner":"any","usage":"NOT-SETTLED","description":"Status of provider fund settlement"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"3718683618631","description":"Reference number of provider fund settlement"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01","description":"Code of the error occurred at the time of settlement"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive","description":"Message of the error occurred at the time of settlement"}}},"id":{"required":true,"type":"string","owner":"any","usage":"order-id-456","description":"Id of the order"},"inter_participant":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is to be settled from collector to receiver"},"value":{"required":true,"type":"string","owner":"any","usage":"1000.00","description":"Inter participant amount is what is to be settled from collector to receiver"}},"status":{"required":true,"type":"string","owner":"any","usage":"SETTLED","description":"Status of interparticipant fund settlement"},"reference_no":{"required":true,"type":"string","owner":"any","usage":"3718683618631","description":"Reference number of Interparticipant fund settlement"},"error":{"code":{"required":true,"type":"string","owner":"any","usage":"01","description":"Code of the error occurred at the time of settlement"},"message":{"required":true,"type":"string","owner":"any","usage":"Account inactive","description":"Message of the error occurred at the time of settlement"}},"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that is being settled"},"value":{"required":true,"type":"string","owner":"any","usage":"1000.00","description":"Value of the amount that is being settled"}},"collector":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount that the collector keeps for themselves"},"value":{"required":true,"type":"string","owner":"any","usage":"50.00","description":"Collector amount is what collector keeps for themselves"}}}}},"ref_transaction_id":{"required":true,"type":"string","owner":"any","usage":"bd73a366-aebb-4144-9314-808dda82c7e6","description":"Reference transaction ID of the settlement instruction"},"ref_message_id":{"required":true,"type":"string","owner":"any","usage":"941ef6d7-d74d-4411-ac06-469c0f9ac","description":"Reference message ID of the settlement instruction"}}},"recon":{"context":{"action":{"required":true,"type":"string","owner":"any","usage":"recon","description":"Describes the method being called by the sender and executed at the receiver."},"bap_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com","description":"Describes the subscriber id of the BNP"},"bap_uri":{"required":true,"type":"string","owner":"any","usage":"https://collectorapp.com/ondc/1.0/","description":"Describes the subscriber uri of the BNP"},"bpp_id":{"required":true,"type":"string","owner":"any","usage":"receiver-app.com","description":"Describes the subscriber id of the SNP"},"bpp_uri":{"required":true,"type":"string","owner":"any","usage":"https://receiver-app.com/ondc/","description":"Describes the subscriber uri of the SNP"},"domain":{"required":true,"type":"string","owner":"any","usage":"ONDC:NTS10","description":"Domain in which the settlement occurs"},"location":{"city":{"code":{"required":true,"type":"string","owner":"any","usage":"*","description":"Describes city "}},"country":{"code":{"required":true,"type":"string","owner":"any","usage":"IND","description":"Describes country code as per ISO 3166-1 and ISO 3166-2 format"}}},"message_id":{"required":true,"type":"string","owner":"any","usage":"841ef6d7-d74d-4411-ac06-a05469c0f9ac","description":"Describes a unique value which persists during a request / callback cycle."},"timestamp":{"required":true,"type":"string","owner":"any","usage":"2024-05-09T06:36:51.897Z","description":"Describes time of request generation in RFC3339 format"},"transaction_id":{"required":true,"type":"string","owner":"any","usage":"d73a366-aebb-4144-9314-808dda82c7e6","description":"Describes  a unique value which persists across all API calls"},"ttl":{"required":true,"type":"string","owner":"any","usage":"P1D","description":"Describes the duration in ISO8601 format after timestamp for which this message holds valid"},"version":{"required":true,"type":"string","owner":"any","usage":"2.0.0","description":"Describes the version of transaction protocol being used by the sender."}},"message":{"orders":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount of the Order"},"value":{"required":true,"type":"string","owner":"any","usage":"300.00","description":"Value of the amount of the Order"}},"id":{"required":true,"type":"string","owner":"any","usage":"order-1234","description":"Id of the order"},"settlements":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount of the settlement"},"value":{"required":true,"type":"string","owner":"any","usage":"300.00","description":"Value of the amount of the settlement"}},"commission":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the commission on the order"},"value":{"required":true,"type":"string","owner":"any","usage":"300.00","description":"Value of the commission on the order"}},"id":{"required":true,"type":"string","owner":"any","usage":"settlement-id-456","description":"Id of the settlement"},"payment_id":{"required":false,"type":"string","owner":"any","usage":"pymnt-1","description":"Payment ID of the settlement"},"settlement_ref_no":{"required":false,"type":"string","owner":"any","usage":"utr-1234","description":"Settlement Reference number of the settlement "},"status":{"required":true,"type":"string","owner":"any","usage":"PENDING","description":"Status of the settlement"},"tcs":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of tax collected at source"},"value":{"required":true,"type":"string","owner":"any","usage":"300.00","description":"Value of tax collected at source"}},"tds":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of tax deducted at source"},"value":{"required":true,"type":"string","owner":"any","usage":"300.00","description":"Value of tax deducted at source"}},"updated_at":{"required":true,"type":"string","owner":"any","usage":"2024-05-09T06:36:51.897Z","description":"Settlement modification time"},"withholding_amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the withholding amount"},"value":{"required":true,"type":"string","owner":"any","usage":"300.00","description":"Value of the withholding amount"}}}}}},"on_recon":{"context":{"action":{"required":true,"type":"string","owner":"any","usage":"on_recon","description":"Describes the method being called by the sender and executed at the receiver."},"bap_id":{"required":true,"type":"string","owner":"any","usage":"collectorapp.com","description":"Describes the subscriber id of the BNP"},"bap_uri":{"required":true,"type":"string","owner":"any","usage":"https://collectorapp.com/ondc/1.0/","description":"Describes the subscriber uri of the BNP"},"bpp_id":{"required":true,"type":"string","owner":"any","usage":"receiver-app.com","description":"Describes the subscriber id of the SNP"},"bpp_uri":{"required":true,"type":"string","owner":"any","usage":"https://receiver-app.com/ondc/","description":"Describes the subscriber uri of the SNP"},"domain":{"required":true,"type":"string","owner":"any","usage":"ONDC:NTS10","description":"Domain in which the settlement occurs"},"location":{"city":{"code":{"required":true,"type":"string","owner":"any","usage":"*","description":"Describes city "}},"country":{"code":{"required":true,"type":"string","owner":"any","usage":"IND","description":"Describes country code as per ISO 3166-1 and ISO 3166-2 format"}}},"message_id":{"required":true,"type":"string","owner":"any","usage":"841ef6d7-d74d-4411-ac06-a05469c0f9ac","description":"Describes a unique value which persists during a request / callback cycle."},"timestamp":{"required":true,"type":"string","owner":"any","usage":"2024-05-09T06:36:51.897Z","description":"Describes time of request generation in RFC3339 format"},"transaction_id":{"required":true,"type":"string","owner":"any","usage":"d73a366-aebb-4144-9314-808dda82c7e6","description":"Describes  a unique value which persists across all API calls"},"ttl":{"required":true,"type":"string","owner":"any","usage":"P1D","description":"Describes the duration in ISO8601 format after timestamp for which this message holds valid"},"version":{"required":true,"type":"string","owner":"any","usage":"2.0.0","description":"Describes the version of transaction protocol being used by the sender."}},"message":{"orders":{"amount":{"currency":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Currency of the amount of the Order"},"value":{"required":true,"type":"string","owner":"any","usage":"300.00","description":"Value of the amount of the Order"}},"id":{"required":true,"type":"string","owner":"any","usage":"order-1234","description":"Id of the order"},"recon_accord":{"required":true,"type":"boolean","owner":"any","usage":true,"description":"Formal agreement of the settled amount"},"settlements":{"amount":{"currency":{"required":false,"type":"string","owner":"any","usage":"10.00","description":"Currency of the amount of the settlement"},"diff_amount":{"required":true,"type":"string","owner":"any","usage":"300.00","description":"Difference in the settlement amount incase recon_accord is FALSE"},"value":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Value of the amount of the settlement"}},"commission":{"currency":{"required":false,"type":"string","owner":"any","usage":"10.00","description":"Currency of the commission on the order"},"diff_amount":{"required":true,"type":"string","owner":"any","usage":"300.00","description":"Difference in the commission amount incase recon_accord is FALSE"},"value":{"required":true,"type":"string","owner":"any","usage":"settlement-id-456","description":"Value of the commission on the order"}},"id":{"required":true,"type":"string","owner":"any","usage":"pymnt-1","description":"Id of the settlement"},"payment_id":{"required":false,"type":"string","owner":"any","usage":"utr-1234","description":"Payment_Id of the settlement"},"settlement_ref_no":{"required":true,"type":"string","owner":"any","usage":"PENDING","description":"Settlement Reference number of the settlement "},"status":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Status of the settlement"},"tcs":{"currency":{"required":false,"type":"string","owner":"any","usage":"10.00","description":"Currency of tax collected at source"},"diff_amount":{"required":true,"type":"string","owner":"any","usage":"300.00","description":"Difference in the tax collected at the source incase recon_accord is FALSE"},"value":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Value of tax collected at source"}},"tds":{"currency":{"required":false,"type":"string","owner":"any","usage":"10.00","description":"Currency of tax deducted at source"},"diff_amount":{"required":true,"type":"string","owner":"any","usage":"300.00","description":"Difference in the tax deducted at the source incase recon_accord is FALSE"},"value":{"required":true,"type":"string","owner":"any","usage":"2024-05-09T06:36:51.897Z","description":"Value of tax deducted at source"}},"updated_at":{"required":true,"type":"string","owner":"any","usage":"INR","description":"Settlement modification time"},"withholding_amount":{"currency":{"required":false,"type":"string","owner":"any","usage":"10.00","description":"Currency of the withholding amount"},"diff_amount":{"required":true,"type":"string","owner":"any","usage":"300.00","description":"Difference in the withholding amount incase recon_accord is FALSE"},"value":{"required":false,"type":false,"owner":false,"usage":false,"description":"Value of the withholding amount"}}}}}}}}},"x-errorcodes":{"code":[{"Event":"NACK","Description":"Invalid Signature","From":"Any","code":70000},{"Event":"NACK","Description":"Missing mandatory 'Authorization' header param","From":"Any","code":70001},{"Event":"NACK","Description":"Invalid schema","From":"Any","code":70002},{"Event":"OnSettle","Description":"Invalid bap id","From":"Any","code":70003},{"Event":"OnSettle","Description":"Inactive bap id","From":"Any","code":70004},{"Event":"OnSettle","Description":"Invalid bpp id","From":"Any","code":70005},{"Event":"OnSettle","Description":"Duplicate transaction id","From":"Any","code":70006},{"Event":"OnSettle","Description":"Duplicate message id","From":"Any","code":70007},{"Event":"OnSettle","Description":"Duplicate settlement id","From":"Any","code":70008},{"Event":"OnSettle","Description":"Bap id doesn't match collector app id or receiver app id","From":"Any","code":70009},{"Event":"OnSettle","Description":"Collector account not available","From":"Any","code":70010},{"Event":"OnSettle","Description":"Invalid collector app id","From":"Any","code":70011},{"Event":"OnSettle","Description":"Inactive collector app id","From":"Any","code":70012},{"Event":"OnSettle","Description":"Invalid receiver app id","From":"Any","code":70013},{"Event":"OnSettle","Description":"Inactive receiver app id","From":"Any","code":70014},{"Event":"OnSettle","Description":"Receiver app id same as Collector app id","From":"Any","code":70015},{"Event":"OnSettle","Description":"Duplicate order id","From":"Any","code":70016},{"Event":"OnSettle","Description":"Collector account inoperable","From":"Any","code":70017},{"Event":"OnSettle","Description":"Receiver account inoperable","From":"Any","code":70018},{"Event":"OnSettle","Description":"No response from bank for collector account","From":"Any","code":70019},{"Event":"OnSettle","Description":"No response from bank for receiver account","From":"Any","code":70020},{"Event":"OnSettle","Description":"No file shared by counterparty","From":"Any","code":70021},{"Event":"OnSettle","Description":"Order id not shared by counterparty","From":"Any","code":70022},{"Event":"OnSettle","Description":"Collector value mismatch","From":"Any","code":70023},{"Event":"OnSettle","Description":"Interparticipant value mismatch","From":"Any","code":70024},{"Event":"OnSettle","Description":"Insufficient balance in collector account","From":"Any","code":70025},{"Event":"OnSettle","Description":"Collector NDC breach","From":"Any","code":70026},{"Event":"OnSettle","Description":"Collector bank NDC breach","From":"Any","code":70027},{"Event":"https error","Description":"Internal server error","From":"Any","code":503}]}}